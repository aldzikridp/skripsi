\documentclass[a4paper,12pt]{article}
\usepackage{multirow}
\usepackage{enumitem}
\usepackage{adjustbox}
\usepackage{fontspec}
\usepackage{graphicx}
\usepackage{microtype}
\usepackage{tocloft} %untuk daftar isi
\usepackage{csquotes}
\usepackage{array}
\usepackage{longtable}
\usepackage{titlesec} %untuk setel judul bab
\usepackage{setspace} %untuk spacing
\usepackage[a4paper, tmargin=4cm, bmargin=3cm, lmargin=4cm, rmargin=3cm]{geometry}
\usepackage[style="authoryear"]{biblatex}
\usepackage[british]{babel}
\usepackage{subfiles}
\addbibresource{pustaka.bib}
\setmainfont{Times New Roman}
\graphicspath{ {./images/}{../images/} }

% Daftar pemenggalan suku kata dan istilah dalam LaTeX
\input{_internals/hype.indonesia}

%%%%%% Setelan section %%%%%

%%% Tambah bab X, sebelum judul bab dan jadikan judul di tengah. UNCOMMENT KETIKA SKRIPSI!!!!
%\titleformat{\section}[display]{\normalfont\Large\bfseries\filcenter}{Bab \thesection}{12pt}{}
\renewcommand{\thesection}{\arabic{section}}
\renewcommand{\thesubsection}{\thesection.\arabic{subsection}.}
\renewcommand{\thesubsubsection}{\thesection.\thesubsection. \arabic{subsubsection}.}

\newcommand{\bagian}[1]{\section{#1}}
\newcommand{\subbagian}[1]{\flushleft{\subsection{#1}}}
\newcommand{\subsubbagian}[1]{\flushleft{\subsubsection{#1}}}

%%%%% Setelan daftar isi %%%%%
%%%%% Memerlukan paket tocloft %%%%%

% Ubah judul daftar isi (aslinya inggris)
\addto\captionsbritish{% sesuaikan caption dengan nama bahasa yg digunakan
  \renewcommand{\contentsname}
    {Daftar Isi}
}

%Titik-titik di daftar isi
\renewcommand{\cftsecleader}{\cftdotfill{\cftdotsep}}
%Tengahkan judul daftar isi
\renewcommand{\cfttoctitlefont}{\hspace*{\fill}\Huge\bfseries}
\renewcommand{\cftaftertoctitle}{\hspace*{\fill}}

%%%%%% Setelan BibLatex %%%%%
% hapus in:
\renewbibmacro{in:}{}

% Ubah biblatex ke indonesia
\NewBibliographyString{mybahasa}
\DefineBibliographyStrings{english}{%
  and = {dan},
  urlseen = {diakses pada}
}

% Tambah space di antara pustaka
\setlength\bibitemsep{0.5\baselineskip}

%%%%% custom environment %%%%%%
% autofull, sesuaikan spacing sehingga
% teks memenuhi halaman
\newcommand{\addstretch}[1]{\addtolength{#1}{\fill}}
\newenvironment{autofull}
  {\newpage\flushbottom
   \addstretch{\baselineskip}
   \addstretch{\abovedisplayskip}
   \addstretch{\abovedisplayshortskip}
   \addstretch{\belowdisplayskip}
   \addstretch{\belowdisplayshortskip}
   \setlength{\parskip}{0pt}}
  {\newpage}

%%%%% Spacing %%%%%
% Spacing = 2, sesuai pedoman proposal skripsi
\doublespacing


\begin{document}
\begin{singlespace}
\subfile{bagian/cover}
\newpage
\tableofcontents
\newpage
\end{singlespace}
\subfile{bagian/lembar_persetujuan}


\newpage
\subfile{bagian/bab_1/bab_1}

\subfile{bagian/bab_2/bab_2}

\subfile{bagian/bab_3/bab_3}

\newpage
\printbibliography[title=Daftar Pustaka]

\end{document}
